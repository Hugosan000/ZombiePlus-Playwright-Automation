'use strict';function a3_0x2dac(_0x2fa605,_0x335fad){const _0x32b890=a3_0x32b8();return a3_0x2dac=function(_0x2dacf9,_0x1a44bc){_0x2dacf9=_0x2dacf9-0x1cb;let _0x1577ea=_0x32b890[_0x2dacf9];return _0x1577ea;},a3_0x2dac(_0x2fa605,_0x335fad);}const a3_0x2a8ea2=a3_0x2dac;(function(_0x394a1d,_0x17c54d){const _0x1c4787=a3_0x2dac,_0x579324=_0x394a1d();while(!![]){try{const _0x18f6b2=parseInt(_0x1c4787(0x1f4))/0x1*(parseInt(_0x1c4787(0x1d0))/0x2)+parseInt(_0x1c4787(0x1dd))/0x3+-parseInt(_0x1c4787(0x1d6))/0x4*(-parseInt(_0x1c4787(0x1de))/0x5)+parseInt(_0x1c4787(0x1d7))/0x6*(-parseInt(_0x1c4787(0x1f0))/0x7)+-parseInt(_0x1c4787(0x1ea))/0x8+-parseInt(_0x1c4787(0x1e2))/0x9*(-parseInt(_0x1c4787(0x1eb))/0xa)+-parseInt(_0x1c4787(0x1e7))/0xb;if(_0x18f6b2===_0x17c54d)break;else _0x579324['push'](_0x579324['shift']());}catch(_0x126cf1){_0x579324['push'](_0x579324['shift']());}}}(a3_0x32b8,0xa5445));function a3_0x32b8(){const _0x3420d4=['title','findByPk','ASC','company_id','default','filename','6CmrdsF','reload','show','files','sequelize','name','16KvtqMl','1232076iZcNJU','delete','featured','../models/Company','findAndCountAll','index','1049973RmQXua','403055QWWFNs','count','company','end','9HUFYcS','overview','findOne','Company\x20not\x20found.','status','3614655JaiCOi','release_year','__esModule','1537648jHuuKJ','4987910VLxYfG','json','cover','created_at','destroy','28sHITKA','query','params','body','282634oTHRVo'];a3_0x32b8=function(){return _0x3420d4;};return a3_0x32b8();}Object['defineProperty'](exports,a3_0x2a8ea2(0x1e9),{'value':!![]});function _interopRequireDefault(_0x9ddfd2){const _0x5018a6=a3_0x2a8ea2;return _0x9ddfd2&&_0x9ddfd2[_0x5018a6(0x1e9)]?_0x9ddfd2:{'default':_0x9ddfd2};}var _sequelize=require(a3_0x2a8ea2(0x1d4)),_Movie=require('../models/Movie'),_Movie2=_interopRequireDefault(_Movie),_Company=require(a3_0x2a8ea2(0x1da)),_Company2=_interopRequireDefault(_Company);class MovieController{async['store'](_0x1b1c9b,_0x3bfdef){const _0x66bf4d=a3_0x2a8ea2,_0xc3c27e=await _Company2[_0x66bf4d(0x1ce)][_0x66bf4d(0x1cb)](_0x1b1c9b['body'][_0x66bf4d(0x1cd)]);if(!_0xc3c27e)return _0x3bfdef[_0x66bf4d(0x1e6)](0x190)[_0x66bf4d(0x1ec)]({'error':_0x66bf4d(0x1e5)});const _0x114c72=await _Movie2['default'][_0x66bf4d(0x1e4)]({'where':{'title':_0x1b1c9b[_0x66bf4d(0x1f3)]['title']}});if(_0x114c72)return _0x3bfdef['status'](0x199)[_0x66bf4d(0x1ec)]({'bcode':0x3e9,'error':'This\x20content\x20is\x20already\x20registered.'});const _0x13e980=_0x1b1c9b[_0x66bf4d(0x1d3)],_0x473630={..._0x1b1c9b[_0x66bf4d(0x1f3)],'cover':_0x13e980['length']>0x0?_0x13e980[0x0][_0x66bf4d(0x1cf)]:null},_0x5d746c=await _Movie2[_0x66bf4d(0x1ce)]['create'](_0x473630),_0x4a9b6c=await _0x5d746c[_0x66bf4d(0x1d1)]({'include':[{'model':_Company2[_0x66bf4d(0x1ce)],'as':'company','attributes':['id','name']}]});return _0x3bfdef[_0x66bf4d(0x1e6)](0xc9)['json'](_0x4a9b6c);}async[a3_0x2a8ea2(0x1dc)](_0x37b5a7,_0x535307){const _0x30d393=a3_0x2a8ea2,_0x2f9029=_0x37b5a7[_0x30d393(0x1f1)][_0x30d393(0x1f5)]||'',_0x3271f6=await _Movie2[_0x30d393(0x1ce)][_0x30d393(0x1db)]({'order':['id'],'where':{'title':{[_sequelize['Op']['iLike']]:'%'+_0x2f9029+'%'}},'attributes':['id',_0x30d393(0x1f5),_0x30d393(0x1e3),'featured',_0x30d393(0x1e8),_0x30d393(0x1ed)],'include':[{'model':_Company2[_0x30d393(0x1ce)],'as':_0x30d393(0x1e0),'attributes':['id',_0x30d393(0x1d5)]}],'order':[[_0x30d393(0x1ee),_0x30d393(0x1cc)]]});return _0x535307['json']({'data':_0x3271f6['rows'],'total':_0x3271f6[_0x30d393(0x1df)]});}async[a3_0x2a8ea2(0x1d2)](_0x10fd87,_0x1027b8){const _0x2fd4fc=a3_0x2a8ea2,{id:_0x41593c}=_0x10fd87[_0x2fd4fc(0x1f2)],_0x5ce2fb=await _Movie2[_0x2fd4fc(0x1ce)]['findOne']({'where':{'id':_0x41593c},'attributes':['id',_0x2fd4fc(0x1f5),_0x2fd4fc(0x1e3),_0x2fd4fc(0x1d9),_0x2fd4fc(0x1e8),'cover'],'include':[{'model':_Company2[_0x2fd4fc(0x1ce)],'as':_0x2fd4fc(0x1e0),'attributes':['id','name']}]});if(!_0x5ce2fb)return _0x1027b8[_0x2fd4fc(0x1e6)](0x194)[_0x2fd4fc(0x1e1)]();return _0x1027b8[_0x2fd4fc(0x1ec)](_0x5ce2fb);}async[a3_0x2a8ea2(0x1d8)](_0x4502af,_0x87ab5d){const _0x175710=a3_0x2a8ea2,_0x5ecbae=await _Movie2[_0x175710(0x1ce)][_0x175710(0x1cb)](_0x4502af[_0x175710(0x1f2)]['id']);if(!_0x5ecbae)return _0x87ab5d['status'](0x194)['end']();return await _0x5ecbae[_0x175710(0x1ef)](),_0x87ab5d[_0x175710(0x1e6)](0xcc)[_0x175710(0x1e1)]();}}exports[a3_0x2a8ea2(0x1ce)]=new MovieController();