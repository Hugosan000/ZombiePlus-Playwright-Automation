'use strict';const a5_0xb02ef9=a5_0x43da;(function(_0x444daa,_0x3b7c5d){const _0x243dfe=a5_0x43da,_0x32940e=_0x444daa();while(!![]){try{const _0x1e4b9c=-parseInt(_0x243dfe(0xf2))/0x1*(-parseInt(_0x243dfe(0xfc))/0x2)+parseInt(_0x243dfe(0xf0))/0x3+-parseInt(_0x243dfe(0xef))/0x4*(-parseInt(_0x243dfe(0xda))/0x5)+parseInt(_0x243dfe(0xec))/0x6*(parseInt(_0x243dfe(0x100))/0x7)+parseInt(_0x243dfe(0xe2))/0x8*(parseInt(_0x243dfe(0xf8))/0x9)+parseInt(_0x243dfe(0xf1))/0xa+-parseInt(_0x243dfe(0xfb))/0xb;if(_0x1e4b9c===_0x3b7c5d)break;else _0x32940e['push'](_0x32940e['shift']());}catch(_0x89ca37){_0x32940e['push'](_0x32940e['shift']());}}}(a5_0x28c6,0x6609d));function a5_0x28c6(){const _0x239a1c=['iLike','json','ASC','defineProperty','index','1920rueWHP','featured','../models/TvShow','1124SwdedG','124002eofzld','5329320fBDIqI','1RrcOoo','seasons','Company\x20not\x20found.','show','title','body','153AoNqjm','files','company','14748536IHPNvT','308874bxTATC','release_year','company_id','rows','7588BmbHLQ','sequelize','../models/Company','created_at','default','11105ZNVKjY','destroy','delete','overview','status','end','__esModule','findByPk','27784rlfyyL','filename','count','cover','name'];a5_0x28c6=function(){return _0x239a1c;};return a5_0x28c6();}Object[a5_0xb02ef9(0xea)](exports,a5_0xb02ef9(0xe0),{'value':!![]});function a5_0x43da(_0xd4a8a7,_0x23a155){const _0x28c607=a5_0x28c6();return a5_0x43da=function(_0x43da5c,_0x60ade7){_0x43da5c=_0x43da5c-0xd6;let _0xf9db12=_0x28c607[_0x43da5c];return _0xf9db12;},a5_0x43da(_0xd4a8a7,_0x23a155);}function _interopRequireDefault(_0x2d5d2a){return _0x2d5d2a&&_0x2d5d2a['__esModule']?_0x2d5d2a:{'default':_0x2d5d2a};}var _sequelize=require(a5_0xb02ef9(0xd6)),_TvShow=require(a5_0xb02ef9(0xee)),_TvShow2=_interopRequireDefault(_TvShow),_Company=require(a5_0xb02ef9(0xd7)),_Company2=_interopRequireDefault(_Company);class TvShowController{async['store'](_0x4f7c80,_0x193ea1){const _0x461143=a5_0xb02ef9,_0x1284da=await _Company2[_0x461143(0xd9)]['findByPk'](_0x4f7c80[_0x461143(0xf7)][_0x461143(0xfe)]);if(!_0x1284da)return _0x193ea1[_0x461143(0xde)](0x190)['json']({'error':_0x461143(0xf4)});const _0x882371=await _TvShow2['default']['findOne']({'where':{'title':_0x4f7c80[_0x461143(0xf7)][_0x461143(0xf6)]}});if(_0x882371)return _0x193ea1['status'](0x199)[_0x461143(0xe8)]({'bcode':0x3e9,'error':'This\x20content\x20is\x20already\x20registered.'});const _0x40bd4d=_0x4f7c80[_0x461143(0xf9)],_0x1cf355={..._0x4f7c80['body'],'cover':_0x40bd4d['length']>0x0?_0x40bd4d[0x0][_0x461143(0xe3)]:null},_0x21a062=await _TvShow2[_0x461143(0xd9)]['create'](_0x1cf355),_0x567235=await _0x21a062['reload']({'include':[{'model':_Company2['default'],'as':'company','attributes':['id',_0x461143(0xe6)]}]});return _0x193ea1[_0x461143(0xde)](0xc9)[_0x461143(0xe8)](_0x567235);}async[a5_0xb02ef9(0xeb)](_0xaceefb,_0xf3156b){const _0x22233d=a5_0xb02ef9,_0x5dbe7c=_0xaceefb['query']['title']||'',_0x27fe4d=await _TvShow2[_0x22233d(0xd9)]['findAndCountAll']({'order':['id'],'where':{'title':{[_sequelize['Op'][_0x22233d(0xe7)]]:'%'+_0x5dbe7c+'%'}},'attributes':['id','title',_0x22233d(0xdd),_0x22233d(0xed),_0x22233d(0xfd),_0x22233d(0xf3),_0x22233d(0xe5)],'include':[{'model':_Company2[_0x22233d(0xd9)],'as':_0x22233d(0xfa),'attributes':['id',_0x22233d(0xe6)]}],'order':[[_0x22233d(0xd8),_0x22233d(0xe9)]]});return _0xf3156b['json']({'data':_0x27fe4d[_0x22233d(0xff)],'total':_0x27fe4d[_0x22233d(0xe4)]});}async[a5_0xb02ef9(0xf5)](_0x1b95ad,_0x3ae868){const _0x2a0d59=a5_0xb02ef9,{id:_0x457c77}=_0x1b95ad['params'],_0x61c16b=await _TvShow2[_0x2a0d59(0xd9)]['findOne']({'where':{'id':_0x457c77},'attributes':['id',_0x2a0d59(0xf6),_0x2a0d59(0xdd),_0x2a0d59(0xed),_0x2a0d59(0xfd),_0x2a0d59(0xf3),'cover'],'include':[{'model':_Company2['default'],'as':_0x2a0d59(0xfa),'attributes':['id',_0x2a0d59(0xe6)]}]});if(!_0x61c16b)return _0x3ae868[_0x2a0d59(0xde)](0x194)['end']();return _0x3ae868['json'](_0x61c16b);}async[a5_0xb02ef9(0xdc)](_0x29090a,_0x1385fc){const _0xad2191=a5_0xb02ef9,_0x380f38=await _TvShow2[_0xad2191(0xd9)][_0xad2191(0xe1)](_0x29090a['params']['id']);if(!_0x380f38)return _0x1385fc[_0xad2191(0xde)](0x194)[_0xad2191(0xdf)]();return await _0x380f38[_0xad2191(0xdb)](),_0x1385fc[_0xad2191(0xde)](0xcc)[_0xad2191(0xdf)]();}}exports[a5_0xb02ef9(0xd9)]=new TvShowController();